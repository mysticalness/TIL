# Spring DI (2)


## 빈(Bean)이란?
  * JavaBeans - 재사용 가능한 컴포넌트, 상태(iv), getter&setter, no-args constructor
  * Servlet & JSP bean - MVC의 Model, EL, scope, JSP container가 관리
  * EJB(Enterprise Java Beans) - 복잡한 규칙, EJB container가 관리
  * Spring Bean - POJO(Plain Old Java Object), 단순, 독립적, Spring container가 관리



## BeanFactory와 ApplicationContext
  * Bean : Spring Container가 관리하는 객체
  * Spring container : Bean 저장소, Bean을 저장,관리(생성,소멸,연결)

     1. BeanFactory : Bean을 생성, 연결 등의 기본 기능을 정의

     2. ApplicationContext : BeanFactory를 확장해서 여러 기능을 추가 정의

| Feature |	BeanFactory	| ApplicationContext |
| ------- | ----------- | ------------------ |
| Bean instantiation / wiring | ○	| ○ |
| Integrated lifecycle management |	X	| ○|
| Automatic BeanPostProcessor registration |	X |	○|
| Automatic BeanFactoryPostProcessor registration |	X |	○|
| Convenient MessageSource access (for internationalization) |	X |	○ |
| Built-in ApplicationEvent publication mechanism |	X |	○ |


## ApplicationContext의 종류
  * 다양한 종류의 ApplicationContext 구현체를 제공
  * Abstract`ApplicationContext`, AbstractRefreshable`ApplicationContext`, AbstractRefreshableConfig`ApplicationContext`, AbstractRefreshable`WebApplicationContext`, AbstractXml`ApplicationContext`, AnnotationConfig`ApplicationContext`, AnnotationConfig`WebApplicationContext`, ClassPathXml`ApplicationContext`, FileSystemXml`ApplicationContext`, Generic`ApplicationContext`, GenericGroovy`ApplicationContext`, Generic`WebApplicationContext`, GenericXml`ApplicationContext`, Groovy`WebApplicationContext`, ResourceAdapter`ApplicationContext`, Static`ApplicationContext`, Static`WebApplicationContext`, Xml`WebApplicationContext`

| AC의 종류 | XML |	Java Config |
| -------- | ---- | ----------- |
| non-Web |	GenericXml`ApplicationContext` |	AnnotationConfig`ApplicationContext` |
| Web |	Xml`WebApplicationContext` |	AnnotionConfig`WebApplicationContext` |



## Root AC와 Servlet AC 
~~~XML
[web.xml]
 <!-- The definition of the Root Spring Container shared by all Servlets and Filters -->
 <context-param>
  <param-name>contextConfigLocation</param-name>
  <param-value>/WEB-INF/spring/root-context.xml</param-value>
 </context-param>
 
 <!-- Creates the Spring Container shared by all Servlets and Filters -->
 <listener>
  <listener-class>org.springframework.web.context.ContextLoaderListener</listener-class>
 </listener>

 <!-- Processes application requests -->
 <servlet>
  <servlet-name>appServlet</servlet-name>
  <servlet-class>org.springframework.web.servlet.DispatcherServlet</servlet-class>
  <init-param>
   <param-name>contextConfigLocation</param-name>
   <param-value>/WEB-INF/spring/appServlet/servlet-context.xml</param-value>
  </init-param>
  <load-on-startup>1</load-on-startup>
 </servlet>
~~~
<a href='https://ifh.cc/v-zjk3sb' target='_blank'><img src='https://ifh.cc/g/zjk3sb.png' border='0'></a>
<a href='https://ifh.cc/v-JRwO3w' target='_blank'><img src='https://ifh.cc/g/JRwO3w.png' border='0'></a>
* o.s.w : org.springframework.web
